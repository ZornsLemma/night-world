REM *LOAD World1c
CALL&3590
MODE 5
REM TODO: E%=104 in next line gives weird behaviour - why? Both are multiples of 8.
W%=3:E%=96:F%=100:Y%=1:CALL S%:X%=16:CALL U%
REM TODO: Ditto G%=904
W%=4:G%=896:H%=100:Y%=1:CALL S%:X%=18:CALL U%
L%=16
R%=18*8*8
T%=(32*8-2)*4
B%=16*4
REPEAT
REM QAZX
IF INKEY-98 AND E%>L%:E%=E%-8
IF INKEY-67 AND E%<R%:E%=E%+8
IF INKEY-17 AND F%<T%:F%=F%+4
IF INKEY-66 AND F%>B%:F%=F%-4
W%=3:Y%=0:CALL S%
REM IKOP
IF INKEY-55 AND G%>L%:G%=G%-8
IF INKEY-56 AND G%<R%:G%=G%+8
IF INKEY-38 AND H%<T%:H%=H%+4
IF INKEY-71 AND H%>B%:H%=H%-4
W%=4:Y%=0:CALL S%
W%=4:Y%=3:CALL Q%:VDU 19,0,X%,0,0,0
UNTIL FALSE
